<!-- <div class="row m-5">
  <div class="col-xl-12">
    <form>
      <h1>User</h1>
      <div *ngFor="let item of list">
        <h1>{{item}}</h1>
      </div>
      <h1 *ngIf="userName !== 'KO'">{{userName}}</h1>
      <input [(ngModel)]="userName" name="userName" type="text" class="form-control">
    </form>
  </div>
</div>
<input [(ngModel)]="user.userName" name="userName" type="text" class="form-control">
<input [(ngModel)]="user.passWord" name="userName" type="text" class="form-control">
<button class="btn btn-primary" (click)="onSave()">Save</button>
<h3>{{user | json}}</h3>
<hr> -->


<!-- <form [formGroup]="userForm">
  <label for="first-name">User Name: </label>
  <input id="first-name" type="text" formControlName="userName">
  <div
    *ngIf="userForm.get('userName')?.invalid && (userForm.get('userName')?.dirty || userForm.get('userName')?.touched)">
    Please provide a user name.
  </div>

  <label for="last-name">PassWord: </label>
  <input id="last-name" type="text" formControlName="passWord">
  <button class="btn btn-primary" (click)="onSave()">Save</button>
</form> -->
<form [formGroup]="userForm">
  <div class="form-row">
    <h2><label *ngIf="isUpdate">Edit</label> User</h2>
  </div>
  <hr>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label>User Name</label>
      <input type="text" hidden formControlName="id" class="form-control">
      <input type="text" formControlName="userName" class="form-control" placeholder="User Name">
      <div class="text-danger" *ngIf="userForm.get('userName')?.invalid && 
      (userForm.get('userName')?.dirty || userForm.get('userName')?.touched)">
        Please provide a user name.
      </div>
    </div>
    <div class="form-group col-md-6">
      <label>Password</label>
      <input type="password" dis [disabled]="!isUpdate" formControlName="passWord" class="form-control" placeholder="Password">
      <div class="text-danger" *ngIf="userForm.get('passWord')?.invalid && 
      (userForm.get('passWord')?.dirty || userForm.get('passWord')?.touched)">
        Please provide a password.
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label>Name</label>
      <input type="text" formControlName="name" class="form-control" placeholder="Name">
      <div class="text-danger" *ngIf="userForm.get('name')?.invalid && 
      (userForm.get('name')?.dirty || userForm.get('name')?.touched)">
        Please provide a name.
      </div>
    </div>
    <div class="form-group col-md-6">
      <label>Email</label>
      <input type="email" formControlName="email" class="form-control" placeholder="Email">
      <div class="text-danger" *ngIf="userForm.get('email')?.invalid && 
      (userForm.get('email')?.dirty || userForm.get('email')?.touched)">
        Please provide a email.
      </div>
    </div>
  </div>
  <button type="submit" *ngIf="!isUpdate" [disabled]="!userForm.valid" (click)="onSave()" class="btn btn-primary">Sign in</button>
  <button type="submit" *ngIf="isUpdate" [disabled]="!userForm.valid" (click)="onUpdate()" class="btn btn-primary">Update</button>
</form>

<table class="table table-striped mt-4">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">User Name</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of userList; let i = index">
      <th scope="row">{{i + 1}}</th>
      <td>{{item.username}}</td>
      <td>{{item.name}}</td>
      <td>{{item.email}}</td>
      <td><button type="button" class="btn btn-primary btn-sm" (click)="onEdit(item.id)">Edit</button></td>
      <td><button type="button" class="btn btn-danger btn-sm" (click)="onDelete(item.id)">Delete</button></td>
    </tr>
  </tbody>
</table>